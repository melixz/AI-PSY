# История проекта (history.md)

## Описание

Этот файл представляет историю разработки проекта **AI-Psy** во время хакатона (20 января 2025 года — 27 января 2025 года). В нем подробно указано, какой код был создан до начала хакатона, что было добавлено или изменено в рамках хакатона, а также какие задачи были решены для улучшения приложения. 

## Исходный код до начала хакатона

Проект **AI-Psy** имел базовую архитектуру до начала хакатона. Ниже приведены основные элементы, которые были разработаны ранее:

1. **Базовая структура проекта**:
   - Основы архитектуры проекта: директории `backend`, `frontend`, `docker-compose`.
   - Подключение модели GPT-4o-mini.
   - Начальная работа с LangChain и векторной базой данных.

2. **Ключевые компоненты**:
   - `prompt.py`: Базовые и специализированные промпты.
   - Интеграция LangChain для управления контекстом беседы.
   - Начальная структура файлов и работа с документацией.

3. **Инструменты и зависимости**:
   - Установлены и синхронизированы основные зависимости для работы проекта (FastAPI, LangChain, OpenAI, Docker и др.).
   - Настроен UV как пакетный менеджер.

4. **Документация**:
   - Создан файл `README.md` с базовыми инструкциями по запуску.

## Новая работа, выполненная во время хакатона

Во время хакатона была проведена большая работа, включающая как улучшение существующего кода, так и добавление новых функций. Все изменения задокументированы в репозитории и соответствуют следующим этапам:

### 1. **Разработка нового функционала**
- **Чат-бот**:
  - Добавлены специализированные обработчики вопросов по направлениям психологии: когнитивно-поведенческая терапия (CBT), гештальт-терапия, психоанализ.
  - Расширена функциональность с использованием `multi_direction_chain` для работы с несколькими направлениями одновременно.
  - Улучшен алгоритм обработки промптов и добавлены контекстные подсказки.

- **Работа с дневником эмоций**:
  - Реализован эндпоинт для создания и получения записей дневника эмоций.
  - Автоматическое сохранение результатов тестов в дневник.

- **Тестирование**:
  - Добавлены функции для работы с тестами: выбор, отправка результатов, сохранение в дневник.

### 2. **Оптимизация и улучшения**
- **Docker**:
  - Полностью докеризован проект, включая frontend, backend и базу данных.
  - Созданы `Dockerfile` и `docker-compose.yml` для быстрого развертывания.

- **LangChain**:
  - Добавлена поддержка сложных цепочек и агентов:
    - Интеграция Wikipedia для дополнительного контекста.
    - Управление контекстом через `ConversationBufferMemory`.
  - Улучшена структура и фильтрация документов для повышения релевантности ответов.

- **Frontend**:
  - Созданы основные компоненты интерфейса:
    - Чат.
    - Дневник эмоций.
    - Тесты.
  - Настроена маршрутизация и добавлены страницы `HomePage` и `StartPage`.

- **Система управления промптами**:
  - Промты разделены на базовые и специализированные.
  - Добавлены словари для управления промптами по направлениям и проблемам.

### 3. **Исправление ошибок**
- Исправлена работа CORS.
- Исправлены ошибки в работе агента и цепочек.

### 4. **Документация**
- Обновлен файл `README.md`:
  - Добавлены инструкции по установке UV и работе с зависимостями.
  - Описаны основные функции проекта и структура API.
- Создан текущий файл `history.md` для описания прогресса разработки.

## Вклад команды

### Участники и их вклад:
- **Melixz**:
  - Основная архитектура проекта.
  - Улучшение backend, оптимизация работы агента и Docker.
  - Подготовка документации.
- **Veronika**:
  - Разработка фронтенда: компоненты, маршрутизация, дизайн.
  - Исправления в UI и логике взаимодействия.
- **AliakseiYafremau**:
  - Интеграция Docker.
  - Поддержка работы UV и синхронизация зависимостей.
- **AKryshnia**:
  - Разработка системы промптов.
  - Интеграция сложных цепочек и LangChain.

## Хронология

**20 января 2025 года**:
- Создана базовая архитектура.
- Подключена модель GPT-4o-mini.
- Начата работа над LangChain.

**21 января 2025 года**:
- Доработаны промпты: базовые и специализированные.
- Начата работа над структурой векторной базы.

**22 января 2025 года**:
- Добавлена поддержка Docker.
- Начата разработка frontend.

**23 января 2025 года**:
- Созданы базовые страницы фронтенда.
- Настроена маршрутизация.

**24–25 января 2025 года**:
- Расширена функциональность агента и цепочек.
- Улучшена работа с документами и контекстом.

**26 января 2025 года**:
- Полностью докеризирован проект.
- Обновлена документация.

---

## Заключение

В ходе хакатона проект **AI-Psy** был существенно доработан. Основное внимание было уделено интеграции моделей и созданию пользовательского интерфейса. Новый функционал, включая поддержку направлений психологии, дневник эмоций и тесты, демонстрирует возможности приложения решать реальные бизнес-задачи.
